<!DOCTYPE <!DOCTYPE html>
 <html>
    <head>
        <title>The Boulder Game</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

         <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>

<body>
    <!-- div to display instructions -->
    <p style="font-size:200%; line-height: 2; font-family: Times New Roman" class="text-center">The Boulder Game</p>
    <div id="insDiv" style="text-indent: 5%; line-height: 3; font-family: Times New Roman; font-size:12pt">You are presented with four rooms (squares). Each time, boulders (big brown circles) will be dropped on a certain rooms. To play this game, you will click inside one of the rooms to place your character in that room. The red light signals (small red circles) will turn green indicating how many rooms will be safe, but they are only there to signal number. They don't correspond to any room individually. If your character survives the boulder fall, you gain $100. If not, you lose $100.</div>
	<!-- div to display signals -->
    <div class="text-center" id="signalDiv">
        <span class="signal"></span>
        <span class="signal"></span>
        <span class="signal"></span>
        <span class="signal"></span>
    </div>
    <!-- div to display boulders -->
    <div class="text-center" id="boulderDiv">
        <span class="boulder"></span>
        <span class="boulder"></span>
        <span class="boulder"></span>
        <span class="boulder"></span>
    </div>
    <!-- div to display rooms -->
    <div class="text-center" id="roomDiv">
        <canvas class="room"><span class="bldDrop"></span></canvas>
        <canvas class="room"><span class="bldDrop"></span></canvas>
        <canvas class="room"><span class="bldDrop"></span></canvas>
        <canvas class="room"><span class="bldDrop"></span></canvas>
        
    </div>
    <!-- div to display earning -->
    <div class="text-center" id="earningDiv">
    </div>
    <!-- div to display button -->
    <div class="text-center" id="buttonDiv">
        <button id="next">Next</button>
    </div>
    <!-- div to display essay -->
    <div id="essayDiv" style="font-family: Times New Roman; font-size:12pt">
        <p style="line-height: 5">Rong Zhou</p>
        <p style="line-height: 5">David N. Wright</p>
        <p style="line-height: 5">English 1102.007</p>
        <p style="line-height: 5">March 26, 2019</p>
        <p class="text-center" style="line-height: 5">The Boulder Game</p>
        <p style="text-indent: 5%; line-height: 3">For this assignment, I chose to make a game to represent the theme of confinement found in Mr. Penumbra’s 24-hour Bookstore. This confinement is not of the flesh or the mind, although Mr. Penumbra does, at one point, trap himself in embarrassment. The type of confinement I want to represent here is imposed by belief, knowledge and experience. Characters in the novel, as smart as they are, often shows signs of limited thinking, which only goes as far as their belief, knowledge, experience can carry them. This is a prison few men can escape. </p>
        <p style="text-indent: 5%; line-height: 3">The best demonstration of this cognitive confinement is Clay and Kat’s inability to imagine the year 3012. World government, hoverboards, spaceships, Star Trek, these are the things Clay comes up with in association with the future (Location 802). His anticipation of the future is apparently heavily influenced by pop culture. When the pop culture cannot provide further analogies, his imagination hits a dead end. Kat also envisions the future in close relation to her own profession – software and hardware (Location 814-826). This shows that their thinking is dominated by surrounding objects or ideas. Another example is Kat’s idea of what it means to be immortal and how to achieve it. She believes that immortality is living forever and the way she fantasizes about achieving it is very much in accordance with the existing world she experiences. DNA sequence, formula for new drug (Location 2878), robots fixing stuff (Location 2236) in the brains, all of these are practical approaches to sustain life arising from knowledge and experience. She cannot push her thinking beyond her close reality, which is why when presented with concept of immortality through friendship, she is dissatisfied (Location 3783). As for Clay, he, among all other intelligent beings, is the one ultimately successful in decoding the codex. Is he smarter than the rest? Does he have better thinking? Probably not, as he seems to be dumbest, and the least accomplished of the bunch. His success is a combined effort of knowledge – knowing the friendship between Manutius and Gerrizszoon (Location 1858), and experience – realizing immortality can be obtained through friendship as he hears Moffat read in Mr. Penumbra’s voice (Location 3605). Therefore, when the message of the mountains hits, telling him to be “an open city with all sorts of way to wander in”, he is able to think of Manutius and Gerrizszoon, and Gerrizszoon’s font. Had he not had the prior knowledge and experience, he would not have been able to draw the association even in his wildest imagination, just like the rest of the decoders. The rest of the decoders are probably bound by their belief that immortality is everlasting life and their experience that life can only be sustained in certain ways like Kat does.</p>
        <p style="text-indent: 5%; line-height: 3">The game I created here is meant to test one’s ability to step outside of such confinement. Most people would play the game the normal way. They would not go looking for bugs or loopholes because most games don’t come with any. If they do, it is by accident and usually difficult to spot. Past experience limits their thinking and therefore, their odds at this game is largely dependent on luck. These people are like Clay whose thinking is confined by pop culture when it comes to imagining the future. Others who are keen on winning big bucks will try to look for ways to increase their chance. Mathematicians would calculate the probability of each outcome. Statisticians would keep track of safe spaces each game and pick the space that is safe most of the time. Programmers will try breaking the game by finding the seed and algorithm used in random number generation. After all, the randomness in computer is pseudo-random and can be replicated as long as you have these two pieces of information. These people’s thinking is not as limited but is still trapped in the prison of their own profession, like Kat who sees the future in terms of computer. Knowledge stimulates their thinking but also stifles it. The game is designed with a loophole that allows you to win all the time, but finding it takes a bit of unconventional thinking. If you pay attention to the shape of the rooms and the shape of the boulders, you will see that the boulders are not big enough to fill the rooms. For each room, there will be four safe corners when the boulder is dropped. Putting yourself in those corners is a sure win. </p>
        <p style="text-indent: 5%; line-height: 3">This game represents the cognitive confinement from which we all suffer because most of the time, people would play the game the way their belief, knowledge, and experience would allow them to play. For someone to spot the trick right away, they must have gone through similar experience. Whether players are able to notice the trick is not important. What is important is that it shows we are constantly trapped in a mind prison, just like the characters in the novel. Now that you have read the sure win strategy, your mind will automatically make association next time you encounter a similar problem, which may not have the same solution. This game has become part of the mind prison.</p>
        <p class="text-center" style="line-height: 5">Work Cited</p>
        <p style="line-height: 3">Sloan, Robin. <i>Mr. Penumbra’s 24-hour Bookstore</i>. 2012. New York: HarperCollins Publishers Ltd.  2012. Amazon Kindle.</p>
    </div>
 
</body>

<style>
    .signal {
    height: 25px;
    width: 25px;
    border-radius: 50%;
    display: inline-block;
    }
    .boulder {
    height: 70px;
    width: 70px;
    border-radius: 50%;
    display: inline-block;
    }
    .room {
    height: 75px;
    width: 75px;
    border-style: solid;
    display: inline-block;
    }
    
    .bldDrop {
    position:relative;
    height: 70px;
    width: 70px;
    border-radius: 50%;
    display: inline-block;
    }
    #character {
        height: 13px;
        width: 13px;
        background-color: purple; 
        border-radius: 50%;
        display: inline-block;
    }
    #essayDiv {
        width: 70vw;
        margin-left: 15vw;
    }
    #insDiv {
        width: 70vw;
        margin-left: 15vw;
    }
</style>


<script>
    var earning = 0;
    var notClicked = 1;
    var roomPicked = -1;
    var x = -1;
    var y = -1;
    var signals = document.getElementsByClassName("signal");
    var boulders = document.getElementsByClassName("boulder");
    var rooms = document.getElementsByClassName("room");
    rooms[0].addEventListener("click", drop0,false);
    rooms[1].addEventListener("click", drop1,false);
    rooms[2].addEventListener("click", drop2,false);
    rooms[3].addEventListener("click", drop3,false);
    var bldDrops = document.getElementsByClassName("bldDrop");
    var char = document.getElementById("character");
    var earningDiv = document.getElementById("earningDiv");
    var next = document.getElementById("next");
    next.onclick = onNext;
 
    earningDiv.innerHTML = "$   " + earning;
    signalColor(4, "red");
    boulderColor([0,1,2,3], "brown");
    var numSafe = getRandomInt(3,1);
    lightUp(numSafe);
    var bldsPicked = pickBoulders(4-numSafe);
    function getRandomInt(max,min) {
        return Math.floor((Math.random() * max) + min);
    }
    function lightUp(num) {
        let i = 0;
        while(i < num) {
            signals[i].style.backgroundColor = "green";
            i+=1;
        }
    }
    function signalColor(num, color) {
        let i = 0;
        while(i < num) {
            signals[i].style.backgroundColor = color;
            i+=1;
        }
    }
    function boulderColor(blds, color) {
        let i = 0;
        while(i < blds.length) {
            boulders[blds[i]].style.backgroundColor = color;
            i+=1;
        }
    }
    function bldDrop() {
        let i=0;
        while(i<bldsPicked.length) {
            rooms[bldsPicked[i]].width = rooms[bldsPicked[i]].offsetWidth;
            rooms[bldsPicked[i]].height = rooms[bldsPicked[i]].offsetHeight;
            let ctx = rooms[bldsPicked[i]].getContext("2d");
            ctx.beginPath();
            ctx.arc(37.5, 37.5, 37.5, 0, 2 * Math.PI);
            ctx.stroke();
            ctx.fillStyle = "brown";
            ctx.fill();
            i+=1;
        }
        confirm.disabled = true;
    }
    function onDraw() {
        boulderColor(bldsPicked, "white");
        bldDrop(Math.pow(37.5,2));
        confirm.disabled = true;
        if(!bldsPicked.includes(roomPicked)) {
            earning += 100;
        } else if(Math.sqrt(Math.pow(x-37.5,2) + Math.pow(y-37.5,2)) > 37.5) {
            earning += 100;
        } else {
            earning -= 100;
        }
        earningDiv.innerHTML = "$   " + earning;
    }
    function onNext() {
        notClicked = 1;
        roomPicked=-1;
        x=-1;
        y=-1;
        signalColor(4, "red");
        boulderColor([0,1,2,3], "brown");
        cleanRooms();
        numSafe = getRandomInt(3,1);
        lightUp(numSafe);
        bldsPicked = pickBoulders(4-numSafe);
        confirm.disabled = false;
    }
    function cleanRooms() {
        let i=0;
        while(i<bldsPicked.length) {
            let context = rooms[bldsPicked[i]].getContext('2d');
            context.clearRect(0, 0, rooms[bldsPicked[i]].width, rooms[bldsPicked[i]].height);
            i+=1;
        }
    }
    function pickBoulders(num){
        let blds = [];
        let i = 0;
        while(i < num) {
            bld = getRandomInt(3,0);
            while(blds.includes(bld)) {
                bld = getRandomInt(3,0);
            }
            blds.push(bld);
            i+=1;
        }
        return blds;
    }
    function drop0(e) {
        if(notClicked) {
            var rect = rooms[0].getBoundingClientRect();
            x = e.clientX - rect.left;
            y = e.clientY - rect.top;
            notClicked = 0;
            roomPicked = 0;
            onDraw();
        }
    }
    function drop1(e) {
        if(notClicked) {
            var rect = rooms[1].getBoundingClientRect();
            x = e.clientX - rect.left;
            y = e.clientY - rect.top;
            notClicked = 0;
            roomPicked = 1;
            onDraw();
        }
    }
    function drop2(e) {
        if(notClicked) {
            var rect = rooms[2].getBoundingClientRect();
            x = e.clientX - rect.left;
            y = e.clientY - rect.top;
            x = e.clientX;
            y = e.clientY;
            notClicked = 0;
            roomPicked = 2;
            onDraw();
        }
    }
    function drop3(e) {
        if(notClicked) {
            var rect = rooms[3].getBoundingClientRect();
            x = e.clientX - rect.left;
            y = e.clientY - rect.top;
            x = e.clientX;
            y = e.clientY;
            notClicked = 0;
            roomPicked = 3;
            onDraw();
        }
    }
</script>

</html>